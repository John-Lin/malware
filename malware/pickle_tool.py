import os
import cPickle as pickle
import logging

logging.basicConfig(level=logging.DEBUG)
logger = logging.getLogger(__name__)


def update_pickle(new_cache):
    logger.debug('Updated pickle')
    pickle.dump(new_cache, open('cache.pkl', 'wb'))


def check_pickle():
    logger.debug('Checking in pickle')
    if not os.path.isfile('cache.pkl'):
        malicious_url = {}
        pickle.dump(malicious_url, open('cache.pkl', 'wb'))

    cache = pickle.load(open('cache.pkl', 'rb'))
    return cache
